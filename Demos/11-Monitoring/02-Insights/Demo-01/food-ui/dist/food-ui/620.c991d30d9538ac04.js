"use strict";(self.webpackChunkfood_ui=self.webpackChunkfood_ui||[]).push([[620],{3620:(st,T,i)=>{i.r(T),i.d(T,{FoodModule:()=>ct});var f=i(9808),Z=i(9291),t=i(5e3),l=i(3075),p=i(9224),x=i(7093),u=i(7322),y=i(7531),v=i(6856),N=i(7423);function U(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Name is required & must be more than 3 chars "),t.qZA())}function D(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Price must be greater than 1\u20ac "),t.qZA())}let A=(()=>{class o{constructor(e){this.fb=e,this.onSaveFood=new t.vpe,this.onMailFood=new t.vpe,this.form=this.fb.group({id:0,name:["",[l.kI.required,l.kI.minLength(3)]],amount:[0],pictureUrl:"",code:"",date:new Date})}ngOnInit(){}ngOnChanges(e){var d;e.food&&this.form.setValue(null===(d=e.food)||void 0===d?void 0:d.currentValue)}saveForm(e){this.onSaveFood.emit(e.value)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-food-edit"]],inputs:{food:"food"},outputs:{onSaveFood:"onSaveFood",onMailFood:"onMailFood"},features:[t.TTD],decls:25,vars:5,consts:[["novalidate","",3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutAlign","center start"],["matInput","","type","text","placeholder","Name","formControlName","name"],[4,"ngIf"],["matInput","","type","number","placeholder","Amount","formControlName","amount"],["matInput","","type","string","placeholder","Code","formControlName","code"],["appearance","fill"],["matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["align","end"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,d){if(1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return d.saveForm(d.form)}),t.TgZ(1,"mat-card")(2,"mat-card-content",1)(3,"div")(4,"mat-form-field"),t._UZ(5,"input",2),t.qZA(),t.YNc(6,U,2,0,"mat-error",3),t.qZA(),t.TgZ(7,"div")(8,"mat-form-field"),t._UZ(9,"input",4),t.qZA(),t.YNc(10,D,2,0,"mat-error",3),t.qZA(),t.TgZ(11,"div")(12,"mat-form-field"),t._UZ(13,"input",5),t.qZA()(),t.TgZ(14,"div")(15,"mat-form-field",6)(16,"mat-label"),t._uU(17,"Puchase Date"),t.qZA(),t._UZ(18,"input",7)(19,"mat-datepicker-toggle",8)(20,"mat-datepicker",null,9),t.qZA()(),t.TgZ(22,"mat-card-actions",10)(23,"button",11),t._uU(24,"Save"),t.qZA()()()()()),2&e){const a=t.MAs(21);t.Q6J("formGroup",d.form),t.xp6(6),t.Q6J("ngIf",d.form.controls.name.touched&&null!=d.form.controls.name.errors),t.xp6(4),t.Q6J("ngIf",d.form.controls.amount.touched&&null!=d.form.controls.amount.errors),t.xp6(8),t.Q6J("matDatepicker",a),t.xp6(1),t.Q6J("for",a)}},directives:[l._Y,l.JL,l.sg,p.a8,p.dn,x.xw,x.Wh,u.KE,y.Nt,l.Fj,l.JJ,l.u,f.O5,u.TO,l.wV,u.hX,v.hl,v.nW,u.R9,v.Mq,p.hq,N.lW],styles:["div[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),o})();var I=i(3986),m=i(8279),Y=i(2911),L=i(4594),E=i(5245),J=i(9772);function M(o,n){1&o&&(t.TgZ(0,"th",15),t._uU(1,"Id"),t.qZA())}function $(o,n){if(1&o&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.id)}}function w(o,n){1&o&&(t.TgZ(0,"th",15),t._uU(1,"Name"),t.qZA())}function Q(o,n){if(1&o&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.name)}}function O(o,n){1&o&&(t.TgZ(0,"th",15),t._uU(1,"Amount"),t.qZA())}function B(o,n){if(1&o&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.amount)}}function z(o,n){1&o&&(t.TgZ(0,"th",15),t._uU(1,"Date"),t.qZA())}function H(o,n){if(1&o&&(t.TgZ(0,"td",16),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.date))}}function G(o,n){1&o&&t._UZ(0,"th",15)}function P(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",17)(1,"a",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().addItemToCart(r)}),t.TgZ(2,"mat-icon",19),t._uU(3,"add"),t.qZA()()()}}function R(o,n){1&o&&t._UZ(0,"th",15)}function q(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",17)(1,"a",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().addItemToCart(r)}),t.TgZ(2,"mat-icon",19),t._uU(3,"remove"),t.qZA()()()}}function K(o,n){1&o&&t._UZ(0,"th",15)}function W(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",17)(1,"a",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().deleteFood(r)}),t.TgZ(2,"mat-icon",20),t._uU(3,"delete"),t.qZA()()()}}function X(o,n){1&o&&t._UZ(0,"th",15)}function j(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",17)(1,"a",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().selectFood(r)}),t.TgZ(2,"mat-icon",21),t._uU(3,"edit"),t.qZA()()()}}function V(o,n){1&o&&t._UZ(0,"tr",22)}function k(o,n){1&o&&t._UZ(0,"tr",23)}let b=(()=>{class o{constructor(e){this.ai=e,this.onEditSelected=new t.vpe,this.onDeleteSelected=new t.vpe,this.onAddNew=new t.vpe,this.filter$=new l.NI(""),this.displayedColumns=["name","price","calories","addItemToCart","removeItemFromCart","deleteItem","editItem"],this.dataSource=new m.by([])}ngOnChanges(e){var d;this.dataSource=new m.by(null===(d=e.food)||void 0===d?void 0:d.currentValue)}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase()}addFood(){this.onAddNew.emit()}selectFood(e){this.ai.logEvent("FoodUI:FoodList:SelectFood",e),this.onEditSelected.emit(e)}deleteFood(e){this.ai.logEvent("FoodUI:FoodList:DeleteFood",e),this.onDeleteSelected.emit(e)}addItemToCart(e){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Y.r))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-food-list"]],inputs:{food:"food"},outputs:{onEditSelected:"onEditSelected",onDeleteSelected:"onDeleteSelected",onAddNew:"onAddNew"},features:[t.TTD],decls:33,vars:4,consts:[["matInput","","type","text",3,"formControl"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","price"],["matColumnDef","calories"],["matColumnDef","addItemToCart"],["mat-cell","","class","icon-cell",4,"matCellDef"],["matColumnDef","removeItemFromCart"],["matColumnDef","deleteItem"],["matColumnDef","editItem"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"icon-cell"],["mat-icon-button","",3,"click"],["matTooltip","Hinzuf\xfcgen",1,"mat-18"],["matTooltip","L\xf6schen",1,"mat-18"],["matTooltip","Bearbeiten",1,"mat-18"],["mat-header-row",""],["mat-row",""]],template:function(e,d){1&e&&(t.TgZ(0,"mat-toolbar")(1,"mat-toolbar-row")(2,"mat-form-field"),t._UZ(3,"input",0),t.qZA()()(),t.TgZ(4,"mat-card")(5,"mat-card-content")(6,"table",1),t.ynx(7,2),t.YNc(8,M,2,0,"th",3),t.YNc(9,$,2,1,"td",4),t.BQk(),t.ynx(10,5),t.YNc(11,w,2,0,"th",3),t.YNc(12,Q,2,1,"td",4),t.BQk(),t.ynx(13,6),t.YNc(14,O,2,0,"th",3),t.YNc(15,B,2,1,"td",4),t.BQk(),t.ynx(16,7),t.YNc(17,z,2,0,"th",3),t.YNc(18,H,3,3,"td",4),t.BQk(),t.ynx(19,8),t.YNc(20,G,1,0,"th",3),t.YNc(21,P,4,0,"td",9),t.BQk(),t.ynx(22,10),t.YNc(23,R,1,0,"th",3),t.YNc(24,q,4,0,"td",9),t.BQk(),t.ynx(25,11),t.YNc(26,K,1,0,"th",3),t.YNc(27,W,4,0,"td",9),t.BQk(),t.ynx(28,12),t.YNc(29,X,1,0,"th",3),t.YNc(30,j,4,0,"td",9),t.BQk(),t.YNc(31,V,1,0,"tr",13),t.YNc(32,k,1,0,"tr",14),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("formControl",d.filter$),t.xp6(3),t.Q6J("dataSource",d.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",d.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",d.displayedColumns))},directives:[L.Ye,L.rD,u.KE,y.Nt,l.Fj,l.JJ,l.oH,p.a8,p.dn,m.BZ,m.w1,m.fO,m.ge,m.Dz,m.ev,N.zs,E.Hw,J.gM,m.as,m.XQ,m.nj,m.Gk],pipes:[f.uU],styles:["table[_ngcontent-%COMP%]{width:100%}.icon-cell[_ngcontent-%COMP%]{cursor:pointer;text-align:right}button[_ngcontent-%COMP%]{margin-left:1.5rem}mat-card[_ngcontent-%COMP%]{margin-bottom:1rem}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),o})();function tt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-food-edit",2),t.NdJ("onSaveFood",function(a){return t.CHM(e),t.oxw().saveFood(a)}),t.qZA()}2&o&&t.Q6J("food",n.ngIf)}const ot=[{path:"",component:(()=>{class o{constructor(e){this.ff=e,this.food=this.ff.getFood(),this.selected=this.ff.getSelected()}ngOnInit(){this.ff.initFood()}saveFood(e){this.ff.selectFood(null),0==e.id?this.ff.addFood(e):this.ff.updateFood(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(I.U))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-food-container"]],decls:4,vars:6,consts:[[3,"food","onEditSelected","onDeleteSelected","onAddNew"],[3,"food","onSaveFood",4,"ngIf"],[3,"food","onSaveFood"]],template:function(e,d){1&e&&(t.TgZ(0,"app-food-list",0),t.NdJ("onEditSelected",function(r){return d.ff.selectFood(r)})("onDeleteSelected",function(r){return d.ff.deleteFood(r)})("onAddNew",function(){return d.ff.addNewFood()}),t.ALo(1,"async"),t.qZA(),t.YNc(2,tt,1,1,"app-food-edit",1),t.ALo(3,"async")),2&e&&(t.Q6J("food",t.lcZ(1,2,d.food)),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,4,d.selected)))},directives:[b,f.O5,A],pipes:[f.Ov],styles:[""]}),o})()},{path:"edit",component:A}];let et=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[Z.Bz.forChild(ot)],Z.Bz]}),o})();var nt=i(3626),c=i(6642),dt=i(5620),it=i(4978),F=i(9646),h=i(5577),C=i(4004),g=i(262),s=i(7066),at=i(2340),rt=i(520);let lt=(()=>{class o{constructor(e){this.httpClient=e,this.api="",this.api=at.N.apiUrl}getFood(){return this.httpClient.get(`${this.api}food`)}deleteFood(e){return this.httpClient.delete(`${this.api}food/${e}`)}addFood(e){return this.httpClient.post(`${this.api}food`,e)}updateFood(e){return this.httpClient.put(`${this.api}food/${e.id}`,e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(rt.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),mt=(()=>{class o{constructor(e,d){this.actions$=e,this.fs=d,this.loadFood$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(s.F3),(0,h.z)(()=>this.fs.getFood().pipe((0,C.U)(a=>({type:"[Food] load food success",food:a})),(0,g.K)(a=>(0,F.of)(s.aI({err:a}))))))),this.deleteFood$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(s.DC),(0,h.z)(a=>this.fs.deleteFood(a.food.id).pipe((0,C.U)(()=>({type:"[Food] delete food success",food:a.food})),(0,g.K)(r=>(0,F.of)(s.Fn({err:r}))))))),this.addFood=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(s.d6),(0,h.z)(a=>this.fs.addFood(a.food).pipe((0,C.U)(r=>({type:"[Food] add food success",food:r})),(0,g.K)(r=>(0,F.of)(s.ws({err:r}))))))),this.updateFood=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(s.Fz),(0,h.z)(a=>this.fs.addFood(a.food).pipe((0,C.U)(r=>({type:"[Food] update food success",food:r})),(0,g.K)(r=>(0,F.of)(s.RK({err:r})))))))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(c.eX),t.LFG(lt))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var S=i(6562);let ct=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.ez,et,l.UX,nt.o9,it.q,dt.Aw.forFeature(S.$p,S.Pi),c.sQ.forFeature([mt])]]}),o})()}}]);